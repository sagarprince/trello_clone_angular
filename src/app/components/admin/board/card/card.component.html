<div class="card" [draggable]="!isCardLoading" [class.loaded]="isCardLoaded()"
    [class.dragging]="selectedCard()?.id == card.id">
    <div class="card__content">
        <ng-template [ngIf]="hasAttachment">
            <div class="attachment">
                <img [src]="attachment" alt="Image" loading="lazy" draggable="false" />
            </div>
        </ng-template>
        <h3 [class.shimmer-bg]="isCardLoading" [class.shimmer-blured]="isCardLoading">{{card.title}}</h3>
        <ng-template [ngIf]="card.description">
            <p [class.shimmer-bg]="isCardLoading" [class.shimmer-blured]="isCardLoading">{{card.description}}</p>
        </ng-template>
    </div>
    <div class="card__actions">
        <button type="button" title="Edit" [class.shimmer-blured]="isCardLoading" (click)="onEdit()">
            <i class="fa fa-pencil" aria-hidden="true"></i>
        </button>
        <button type="button" title="Delete" [class.shimmer-blured]="isCardLoading" (click)="onDelete()">
            <i class="fa fa-trash" aria-hidden="true"></i>
            <ng-template [ngIf]="isDeleting">
                <div class="loader"><mat-spinner diameter="20" strokeWidth="2" color="warn"></mat-spinner></div>
            </ng-template>
        </button>
        <button type="button" title="Mark Done" [class.shimmer-blured]="isCardLoading" [class.done]="card.done" (click)="onMarkDone()">
            <i class="fa fa-check" aria-hidden="true"></i>
            <ng-template [ngIf]="isLoading">
                <div class="loader"><mat-spinner diameter="20" strokeWidth="2" color="warn"></mat-spinner></div>
            </ng-template>
        </button>
    </div>
</div>